# üéôÔ∏è AI Voice Assistant (Jarvis Architecture)

![Python](https://img.shields.io/badge/Python-3.10%2B-blue?logo=python)
![Platform](https://img.shields.io/badge/Platform-Raspberry_Pi_%7C_Windows_PC-green)
![Vosk](https://img.shields.io/badge/STT-Vosk-yellow)
![Edge-TTS](https://img.shields.io/badge/TTS-Edge--TTS-blueviolet)

–£–º–Ω—ã–π –≥–æ–ª–æ—Å–æ–≤–æ–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç —Å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π (Client-Server).
**Raspberry Pi** –≤—ã—Å—Ç—É–ø–∞–µ—Ç –∫–∞–∫ "—É—à–∏ –∏ —Ä–æ—Ç" (Client), –∞ –º–æ—â–Ω—ã–π **PC (RTX 4070)** –∫–∞–∫ "–º–æ–∑–≥" (Server).

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### 1. üß† Server (PC / RTX 4070)
* **–§–∞–π–ª:** `server_brain.py`
* **–§—É–Ω–∫—Ü–∏–∏:**
    * –ó–∞–ø—É—Å–∫–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω—É—é LLM (Qwen 2.5 / Mistral) —á–µ—Ä–µ–∑ **LM Studio**.
    * –°–ª—É—à–∞–µ—Ç –ø–æ—Ä—Ç `5000` –¥–ª—è –ø—Ä–∏–µ–º–∞ –∞—É–¥–∏–æ.
    * –†–∞—Å–ø–æ–∑–Ω–∞–µ—Ç —Ä–µ—á—å —á–µ—Ä–µ–∑ **Vosk (Large Model)**.
    * –•—Ä–∞–Ω–∏—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–∏–∞–ª–æ–≥–∞ (–ø–∞–º—è—Ç—å).
* **–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:** Python 3.10+, 8GB+ VRAM, LM Studio.

### 2. üó£Ô∏è Client (Raspberry Pi)
* **–§–∞–π–ª:** `smart_head.py`
* **–§—É–Ω–∫—Ü–∏–∏:**
    * –ó–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –∑–≤—É–∫ —Å USB-–º–∏–∫—Ä–æ—Ñ–æ–Ω–∞.
    * –°—Ç—Ä–∏–º–∏—Ç —Å—ã—Ä–æ–µ –∞—É–¥–∏–æ (PCM) –Ω–∞ —Å–µ—Ä–≤–µ—Ä.
    * –ü–æ–ª—É—á–∞–µ—Ç —Ç–µ–∫—Å—Ç–æ–≤—ã–π –æ—Ç–≤–µ—Ç –∏ –æ–∑–≤—É—á–∏–≤–∞–µ—Ç –µ–≥–æ —á–µ—Ä–µ–∑ **Edge-TTS** (Neural).
    * **–§–∏—à–∫–∞:** –°–∏—Å—Ç–µ–º–∞ "–∞–Ω—Ç–∏-—ç—Ö–æ" (–æ—Ç–∫–ª—é—á–∞–µ—Ç —Å–ª—É—Ö –≤–æ –≤—Ä–µ–º—è —Ä–µ—á–∏ + –æ—á–∏—Å—Ç–∫–∞ –±—É—Ñ–µ—Ä–∞).
* **–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:** Python 3.9+, –ò–Ω—Ç–µ—Ä–Ω–µ—Ç (–¥–ª—è TTS), –î–∏–Ω–∞–º–∏–∫–∏ + –ú–∏–∫—Ä–æ—Ñ–æ–Ω.

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –ó–∞–ø—É—Å–∫

### –®–∞–≥ 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –°–µ—Ä–≤–µ—Ä–∞ (Windows PC)

1.  **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
    ```bash
    pip install vosk openai
    ```
2.  **LM Studio:**
    * –ó–∞–≥—Ä—É–∑–∏—Ç–µ –º–æ–¥–µ–ª—å (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è *Qwen 2.5 32B Instruct*).
    * –í–∫–ª—é—á–∏—Ç–µ **Local Server** (Port: `1234`).
3.  **Vosk:**
    * –°–∫–∞—á–∞–π—Ç–µ –º–æ–¥–µ–ª—å `vosk-model-ru-0.42`.
    * –†–∞—Å–ø–∞–∫—É–π—Ç–µ –ø–∞–ø–∫—É —Ä—è–¥–æ–º —Å–æ —Å–∫—Ä–∏–ø—Ç–æ–º.
4.  **–ó–∞–ø—É—Å–∫:**
    ```bash
    python server_brain.py
    ```

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ö–ª–∏–µ–Ω—Ç–∞ (Raspberry Pi)

1.  **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ø–∞–∫–µ—Ç—ã:**
    ```bash
    sudo apt install mpg123
    ```
2.  **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Python-–±–∏–±–ª–∏–æ—Ç–µ–∫–∏:**
    ```bash
    pip install pyaudio edge-tts
    ```
3.  **–ù–∞—Å—Ç—Ä–æ–π–∫–∞:**
    * –í —Ñ–∞–π–ª–µ `smart_head.py` —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `PC_SERVER_IP` —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ IP –≤–∞—à–µ–≥–æ –ü–ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, `192.168.3.10`).
4.  **–ó–∞–ø—É—Å–∫:**
    ```bash
    python smart_head.py
    ```

---

## üõ†Ô∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

| –§–∞–π–ª | –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ |
| :--- | :--- | :--- |
| `smart_head.py` | `VOICE` | –ì–æ–ª–æ—Å –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ (–Ω–∞–ø—Ä. `ru-RU-DmitryNeural`) |
| `smart_head.py` | `INPUT_DEVICE_INDEX` | –ò–Ω–¥–µ–∫—Å –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞ (–æ–±—ã—á–Ω–æ `4` –¥–ª—è PulseAudio) |
| `server_brain.py` | `HISTORY_LIMIT` | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–æ–º–∏–Ω–∞–µ–º—ã—Ö —Ñ—Ä–∞–∑ –≤ –¥–∏–∞–ª–æ–≥–µ |
| `server_brain.py` | `SYSTEM_PROMPT` | –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –ª–∏—á–Ω–æ—Å—Ç–∏ –ò–ò |

---

## üìù –°—Ç–∞—Ç—É—Å
- [x] –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏ (Vosk Large)
- [x] –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–µ—á–∏ (Edge-TTS Online)
- [x] –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç (Local LLM)
- [x] –£–¥–∞–ª–µ–Ω–∏–µ —ç—Ö–∞ (Acoustic Echo Cancellation logic)
